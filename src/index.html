<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <style>img:is([sizes="auto" i], [sizes^="auto," i]) {
        contain-intrinsic-size: 3000px 1500px
    }</style>

    <!-- Search Engine Optimization by Rank Math - https://rankmath.com/ -->
    <title>Học từ sáng đến tối</title>
    <meta name="description" content="@hoctusangdentoi | Đồng hành cùng quãng thời gian nỗ lực của 2 đứa">
    <meta name="robots" content="follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large">
    <link rel="canonical" href="https://hoctusangdentoi.thanhhao.me/">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Học từ sáng đến tối">
    <meta property="og:description" content="@hoctusangdentoi | Đồng hành cùng quãng thời gian nỗ lực của 2 đứa">
    <meta property="og:url" content="https://hoctusangdentoi.thanhhao.me/">
    <meta property="og:site_name" content="Học từ sáng đến tối">
    <meta property="og:updated_time" content="2023-12-10T01:36:50+07:00">
    <meta property="og:image"
          content="uploads/avatar.jpeg">
    <meta property="og:image:secure_url"
          content="uploads/avatar.jpeg">
    <meta property="og:image:width" content="1022">
    <meta property="og:image:height" content="914">
    <meta property="og:image:alt" content="học từ sáng đến tối">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="article:published_time" content="2023-10-19T03:39:13+07:00">
    <meta property="article:modified_time" content="2023-12-10T01:36:50+07:00">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Học từ sáng đến tối">
    <meta name="twitter:description" content="@hoctusangdentoi | Đồng hành cùng quãng thời gian nỗ lực của 2 đứa">
    <meta name="twitter:image"
          content="uploads/avatar.jpeg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="meolabachu">
    <meta name="twitter:label2" content="Time to read">
    <meta name="twitter:data2" content="Less than a minute">
    <!-- /Rank Math WordPress SEO plugin -->
    <link rel="stylesheet" id="hello-elementor-css" href="themes/hello-elementor/assets/css/reset.css?ver=3.4.5" media="all">
    <link rel="stylesheet" id="hello-elementor-theme-style-css" href="themes/hello-elementor/assets/css/theme.css?ver=3.4.5" media="all">
    <link rel="stylesheet" id="hello-elementor-header-footer-css" href="themes/hello-elementor/assets/css/header-footer.css?ver=3.4.5" media="all">
    <link rel="stylesheet" id="elementor-frontend-css" href="plugins/elementor/assets/css/frontend.min.css?ver=3.33.1" media="all">
    <link rel="stylesheet" id="elementor-post-6-css" href="uploads/elementor/css/post-6.css?ver=1763868569" media="all">
    <link rel="stylesheet" id="elementor-icons-css" href="plugins/elementor/assets/lib/eicons/css/elementor-icons.min.css?ver=5.44.0" media="all">
    <link rel="stylesheet" id="elementor-post-2-css" href="uploads/elementor/css/post-2.css?ver=1763868574" media="all">
    <link rel="stylesheet" id="elementor-gf-local-roboto-css" href="uploads/elementor/google-fonts/css/roboto.css?ver=1742227276" media="all">
    <link rel="stylesheet" id="elementor-gf-local-robotoslab-css" href="uploads/elementor/google-fonts/css/robotoslab.css?ver=1742227277" media="all">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="index.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
</head>
<body class="home wp-singular page-template page-template-elementor_canvas page page-id-2 wp-custom-logo wp-embed-responsive wp-theme-hello-elementor hello-elementor-default elementor-default elementor-template-canvas elementor-kit-6 elementor-page elementor-page-2 e--ua-isTouchDevice e--ua-blink e--ua-chrome e--ua-webkit"
      data-elementor-device-mode="desktop">
<div data-elementor-type="wp-page" data-elementor-id="2" class="elementor elementor-2">
    <div class="elementor-element elementor-element-e3af933 e-con-full e-flex e-con e-parent e-lazyloaded"
         data-id="e3af933" data-element_type="container"
         data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
        <div class="elementor-element elementor-element-1a493c6 e-con-full page-profile--main e-flex e-con e-child"
             data-id="1a493c6" data-element_type="container" id="page-profile--main"
             data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
        </div>
    </div>
</div>

<!-- Your React app will be mounted inside this 'root' div -->
<script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
<script type="text/babel">
    const HASHNODE_HOST = "hoctusangdentoi.thanhhao.me";

    // Đã thêm: canonicalUrl
    const query = `
        query Publication {
          publication(host: "${HASHNODE_HOST}") {
            title
            posts(first: 10) {
              edges {
                node {
                  id
                  title
                  subtitle
                  brief
                  canonicalUrl
                  coverImage {
                    url
                  }
                  tags {
                    name
                  }
                }
              }
            }
          }
        }
        `;

    // Your React component code goes here
    class App extends React.Component {
        constructor(props) {
            super(props);
            this.state = {
                categories: [],
                ready: false,
                searchText: '', // To store the search text
                selectedCategory: 'All', // To store the selected category
                products: [], // Initialize products as an empty array
            };
        }

        componentDidMount() {
            // Load the initial product list from an external source
            this.loadInitialProductList();
        }

        async loadInitialProductList() {
            // Assuming you have a function to load the data from your external source
            // For example, you can use the Fetch API to make an HTTP request
            try {
                const response = await fetch('https://gql.hashnode.com', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query }),
                });

                const json = await response.json();
                if (json.errors) { throw new Error('Failed to fetch data'); }

                const posts = json.data.publication.posts.edges;

                const products = this.mapPostsToProducts(posts);
                const categories = {}
                // Iterate over the rows
                products.forEach(product => product.categories.forEach(cat => categories[cat] = 1));

                // Set the products in the component state
                this.setState({ready: true, products: products, categories: Object.keys(categories)});
            } catch (error) {
                console.error('Error loading initial product list:', error);
            }
        }

        mapPostsToProducts(posts) {
            return posts.map(edge => {
                const post = edge.node;

                return {
                    id: post.id,
                    name: post.title,
                    url: post.canonicalUrl,
                    description: post.subtitle || post.brief,
                    thumbnail: post.coverImage ? post.coverImage.url : "",
                    categories: post.tags ? post.tags.map(tag => {
                        const cleanName = tag.name.trim();
                        if (cleanName.length > 0) {
                            return cleanName.charAt(0).toUpperCase() + cleanName.slice(1);
                        }
                        return cleanName;
                    }) : []
                };
            });
        }

        handleSearch = (e) => {
            this.setState({searchText: e.target.value});
        }

        handleCategoryChange = (e, category) => {
            e.preventDefault();
            this.setState({selectedCategory: category});
        }

        filterProducts = () => {
            const {searchText, selectedCategory, products} = this.state;
            return products.filter(product => {
                // Filter products based on the search text and selected category
                const textMatch = product.name.toLowerCase().includes(searchText.toLowerCase());
                const categoryMatch = selectedCategory === 'All' || product.categories.includes(selectedCategory);
                return textMatch && categoryMatch;
            });
        }

        render() {
            const {searchText, selectedCategory, categories, ready} = this.state;
            const filteredProducts = this.filterProducts();
            return (
                <div className="page-profile--body" style={{maxWidth: '100%'}}>
                    <div className="page-profile--header ">
                        <div className="box-profile ">
                            <div className="box-profile-left">
                                <div className="prf-img">
                                    <img className="rounded-circle lazyloaded"
                                         data-src="uploads/avatar.jpeg"
                                         alt=""
                                         src="uploads/avatar.jpeg"/>
                                </div>
                            </div>
                            <div className="box-profile-middle ">
                                <div className="prf-name-bar">
                                    <div className="prf-name-bar--title d-flex align-items-center mobile-title-center">
                                        <span className="prf-name mr-1">Học từ sáng đến tối</span>
                                    </div>
                                    <div className="list-profile--social lazyloaded">
                                        <ul className="list-unstyled prf-social">
                                            <li>
                                                <a target="_blank" href="https://www.tiktok.com/@hoctusangdentoi">
                                                    <i className="prf-icon icon-ttk-circle"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div className="prf-info">
                                    <p className="mb-2">Đồng hành cùng quãng thời gian nỗ lực của 2 đứa</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div className="page-profile--content">
                        <div className="tab-content">
                            <div className="tab-pane fade lazyloaded active show">
                                <div className="input-group mb-3 mt-3 input-group-sm col-sm-12 control-form-search">
                                    <div className="input-group-prepend">
                            <span className="input-group-text bg-color-btn-search">
                                <i className="fa fa-search" aria-hidden="true"/>
                            </span>
                                    </div>
                                    <input type="search" className="form-control" name="search"
                                           placeholder="Tìm kiếm sản phẩm"
                                           value={searchText}
                                           onChange={this.handleSearch}/>
                                </div>
                                <div className="profile-tabs--desp reset-scroll">
                                    <ul className="list-unstyled enable-scroll" id="swiper">
                                        <li className={selectedCategory === 'All' ? 'active' : ''}>
                                            <a href="" className="sortByCate"
                                               onClick={e => this.handleCategoryChange(e, 'All')}>Tất cả</a>
                                        </li>
                                        {ready ? categories.map(cat => (
                                            <li
                                                key={cat}
                                                className={selectedCategory === cat ? 'active' : ''}
                                            >
                                                <a className="sortByCate"
                                                   onClick={e => this.handleCategoryChange(e, cat)}>{cat}</a>
                                            </li>
                                        )) : (
                                            <li>
                                                <span className="sortByCate shimmerBG"
                                                      onClick={e => this.handleCategoryChange(e, 'All')}>
                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                </span>
                                            </li>
                                        )}
                                    </ul>
                                </div>
                                <div className="profile-tabs--group">
                                    <div className="profile-tabs--listgrid">
                                        {ready ? filteredProducts.map(product => (
                                            <div key={product.id} className="tabs--listgrid-item">
                                                <a target="_blank" className="listgrid--link" href={product.url}>
                                                    <div className="listgrid--linkbody">
                                                        <div className="listgrid--img" style={{height: '181px'}}>
                                                            <img className="lazyloaded"
                                                                 data-src={product.thumbnail}
                                                                 alt={product.description}
                                                                 src={product.thumbnail}/>
                                                        </div>
                                                        <div className="listgrid--linkfooter"></div>
                                                    </div>
                                                    <div className="listgrid--linktitle">
                                                        <h5 className="title">{product.name}</h5>
                                                    </div>
                                                </a>
                                            </div>
                                        )) : Array.from({length: 4}, (_, index) => index + 1).map(index => (
                                            <div key={-index} className="tabs--listgrid-item">
                                                <span className="listgrid--link shimmerBG">
                                                    <div className="listgrid--linkbody">
                                                        <div className="listgrid--img" style={{height: '181px'}}></div>
                                                        <div className="listgrid--linkfooter"></div>
                                                    </div>
                                                    <div className="listgrid--linktitle">
                                                    </div>
                                                </span>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }
    }

    // Render the component into the 'root' div
    const container = document.getElementById('page-profile--main');
    const root = ReactDOM.createRoot(container); // createRoot(container!) if you use TypeScript
    root.render(<App/>);
</script>
</body>
</html>